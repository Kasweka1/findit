{% extends "base.html" %}
{% load static %}

{% block title %}FindIt{% endblock title %}

{% block body_class %}component-page{% endblock %}
{% block content %}
{% include "base/findit/partials/_nav.html" %}

  <section class="component-block">

        <div class="container">
            <div class="col-md-6 col-xl-12">
                <div class="card social-widget-card bg-dark">
                    <div class="card-body">
                        <h3 class="text-white m-0">Hi {{ profile.user.first_name }} {{ profile.user.last_name }}</h3>
                        <span class="m-t-10">Account & Profile Information</span>
                        <i class="fas fa-user"></i>
                    </div>
                </div>
            </div>
            <div class="row">
                <!-- [ sample-page ] start -->
                <div class="col-sm-12">
                    <div class="card">
                        <div class="card-body py-0">
                            <ul class="nav nav-tabs profile-tabs" id="myTab" role="tablist">
                                <li class="nav-item">
                                    <a class="nav-link active" id="profile-tab-1" data-bs-toggle="tab" href="#profile-1"
                                        role="tab" aria-selected="true">
                                        <i class="ti ti-user me-2"></i>Profile
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" id="profile-tab-4" data-bs-toggle="tab" href="#profile-4"
                                        role="tab" aria-selected="true">
                                        <i class="ti ti-lock me-2"></i>Change Password
                                    </a>
                                </li>

                                <li class="nav-item">
                                    <a class="nav-link" id="profile-tab-5" data-bs-toggle="tab" href="#profile-5"
                                        role="tab" aria-selected="true">
                                        <i class="ti ti-checkbox me-2"></i>Claimed Items
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" id="profile-tab-6" data-bs-toggle="tab" href="#profile-6"
                                        role="tab" aria-selected="true">
                                        <i class="ti ti-box me-2"></i>Posted Items
                                    </a>
                                </li>


                            </ul>
                        </div>
                    </div>


                    <div class="tab-content">
                        <div class="tab-pane show active" id="profile-1" role="tabpanel"  aria-labelledby="profile-tab-1">
                            <div class="row">
                                <div class="col-lg-12">
                                    <div class="card">
                                        <div class="card-header">
                                            <h5>Personal Information</h5>
                                        </div>
                                        <div class="card-body">
                                            <div class="row">
                                                <div class="col-sm-12 text-center mb-3">
                                                    <div class="user-upload wid-75">
                                                        <img src="{% static 'assets/images/user/avatar-4.jpg' %}" alt="img"
                                                            class="img-fluid">
                                                      
                                                    
                                                    </div>
                                                </div>
                                                <div class="col-sm-6">
                                                    <div class="form-group">
                                                        <label class="form-label">First Name</label>
                                                        <input type="text" class="form-control" value="{{profile.user.first_name}}" readonly>
                                                    </div>
                                                </div>
                                                <div class="col-sm-6">
                                                    <div class="form-group">
                                                        <label class="form-label">Last Name</label>
                                                        <input type="text" class="form-control" value="{{profile.user.last_name}}" readonly>
                                                    </div>
                                                </div>
                                                <div class="col-sm-6">
                                                    <div class="form-group">
                                                        <label class="form-label">Username</label>
                                                        <input type="text" class="form-control" value="{{profile.user.username}}" readonly>
                                                    </div>
                                                </div>
                                                <div class="col-sm-6">
                                                    <div class="form-group">
                                                        <label class="form-label">Email</label>
                                                        <input type="text" class="form-control" value="{{profile.user.email}}" readonly>
                                                    </div>
                                                </div>
                                            <div class="col-sm-6">
                                                    <div class="form-group">
                                                        <label class="form-label">Mobile Number</label>
                                                        <input type="text" class="form-control"
                                                            value="{{profile.mobile_number}}" readonly>
                                                    </div>
                                                </div>
                                               
                                            </div>
                                        </div>
                                    </div>
                                </div>

                       
                                <!-- <div class="col-12 text-end btn-page">
                                    <div class="btn btn-outline-secondary">Cancel</div>
                                    <div class="btn btn-primary">Update Profile</div>
                                </div> -->
                            </div>
                        </div>
                        <div class="tab-pane" id="profile-4" role="tabpanel" aria-labelledby="profile-tab-4">
                            <div class="card">
                                <div class="card-header">
                                    <h5>Change Password</h5>
                                </div>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label class="form-label">Old Password</label>
                                                <input type="password" class="form-control">
                                            </div>
                                            <div class="form-group">
                                                <label class="form-label">New Password</label>
                                                <input type="password" class="form-control">
                                            </div>
                                            <div class="form-group">
                                                <label class="form-label">Confirm Password</label>
                                                <input type="password" class="form-control">
                                            </div>
                                        </div>
                                        <div class="col-sm-6">
                                            <h5>New password must contain:</h5>
                                            <ul class="list-group list-group-flush">
                                                <li class="list-group-item"><i
                                                        class="ti ti-circle-check text-success f-16 me-2"></i> At least
                                                    8
                                                    characters</li>
                                                <li class="list-group-item"><i
                                                        class="ti ti-circle-check text-success f-16 me-2"></i> At least
                                                    1
                                                    lower letter (a-z)</li>
                                                <li class="list-group-item"><i
                                                        class="ti ti-circle-check text-success f-16 me-2"></i> At least
                                                    1
                                                    uppercase letter(A-Z)</li>
                                                <li class="list-group-item"><i
                                                        class="ti ti-circle-check text-success f-16 me-2"></i> At least
                                                    1
                                                    number (0-9)</li>
                                                <li class="list-group-item"><i
                                                        class="ti ti-circle-check text-success f-16 me-2"></i> At least
                                                    1
                                                    special characters</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-footer text-end btn-page">
                                    <div class="btn btn-outline-secondary">Cancel</div>
                                    <div class="btn btn-primary">Update Profile</div>
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane" id="profile-5" role="tabpanel" aria-labelledby="profile-tab-5">
                            <div class="card">
                                <div class="card-header">
                                    <h5>Claimed Items</h5>
                                </div>
                                <div class="card-body">
                                    <div class="table-responsive">
                                        <table class="table table-hover">
                                            <thead>
                                                <tr>
                                                    <th>#</th>
                                                    <th>Item Name</th>
                                                    <th>Category</th>
                                                    <th>Status</th>
                                                    <th>Date Claimed</th>
                                                    <th>Action</th>

                                                </tr>
                                            </thead>
                                            <tbody>
                                                {% for claim in claimed_items %}
                                                <tr>
                                                    <td>{{ forloop.counter }}</td>
                                                    <td>
                                                        <div class="row align-items-center">
                                                            <div class="col-auto pe-0">
                                                            <img src="{{ claim.item_post.image.url }}" alt="user-image" class="wid-55 hei-55 rounded" />
                                                            </div>
                                                            <div class="col">
                                                            <h6 class="mb-2"><span class="text-truncate w-100">{{ claim.item_post.title }}</span></h6>
                                                            <p class="text-muted f-12 mb-0"
                                                                ><span class="text-truncate w-100">{{ claim.item_post.location }} </span></p
                                                            >
                                                            </div>
                                                        </div>
                                                    </td>
      
                                                    <td>{{ claim.item_post.category.name }}</td>
                                                    <td>
                                                        {% if claim.status == 'pending' %}
                                                        <span class="badge bg-warning text-dark">Pending</span>
                                                        {% elif claim.status == 'approved' %}
                                                        <span class="badge bg-success">Approved</span>
                                                        {% elif claim.status == 'rejected' %}
                                                        <span class="badge bg-danger">Rejected</span>
                                                        {% endif %}
                                                    </td>
                                                    <td>{{ claim.created_at|date:"M d, Y" }}</td>
                                                    <td><a href="{% url 'item_detail' claim.item_post.id %}"><i class="ti ti-eye" style="font-size: 1.7em;"></i></a></td>
                                                </tr>
                                                {% empty %}
                                                <tr>
                                                    <td colspan="6" class="text-center">No claimed items found.</td>
                                                </tr>
                                                {% endfor %}
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane" id="profile-6" role="tabpanel" aria-labelledby="profile-tab-6">
                            <div class="card">
                                <div class="card-header">
                                    <h5>Posted Items</h5>
                                </div>
                                <div class="card-body">
                                    <div class="table-responsive">
                                        <table class="table table-hover">
                                            <thead>
                                                <tr>
                                                    <th>#</th>
                                                    <th>Item Name</th>
                                                    <th>Category</th>
                                                    <th>Status</th>
                                                    <th>Date Claimed</th>
                                                    <th>Action</th>

                                                </tr>
                                            </thead>
                                            <tbody>
                                                {% for item in posted_items %}
                                                <tr>
                                                    <td>{{ forloop.counter }}</td>
                                                    <td>
                                                        <div class="row align-items-center">
                                                            <div class="col-auto pe-0">
                                                            <img src="{{ item.image.url }}" alt="user-image" class="wid-55 hei-55 rounded" />
                                                            </div>
                                                            <div class="col">
                                                            <h6 class="mb-2"><span class="text-truncate w-100">{{ item.title }}</span></h6>
                                                            <p class="text-muted f-12 mb-0"
                                                                ><span class="text-truncate w-100">{{ item.location }} </span></p
                                                            >
                                                            </div>
                                                        </div>
                                                    </td>
      
                                                    <td>{{ item.category.name }}</td>
                                                    <td>
                                                        {% if item.status == 'unclaimed' %}
                                                        <span class="badge bg-warning text-dark">Unclaimed</span>
                                                        {% elif item.status == 'claimed' %}
                                                        <span class="badge bg-success">Claimed</span>
                                                        {% elif item.status == 'resolved' %}
                                                        <span class="badge bg-danger">Resolved</span>
                                                        {% endif %}
                                                    </td>
                                                    <td>{{ item.date_reported|date:"M d, Y" }}</td>
                                                    <td><a href="{% url 'item_detail' item.id %}"><i class="ti ti-eye" style="font-size: 1.7em;"></i></a></td>
                                                </tr>
                                                {% empty %}
                                                <tr>
                                                    <td colspan="6" class="text-center">No claimed items found.</td>
                                                </tr>
                                                {% endfor %}
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
                <!-- [ sample-page ] end -->
            </div>

        </div>
    </section>
{% endblock content %}